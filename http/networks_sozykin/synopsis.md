# Computer networks and telecommunication systems. *By Andrey Sozykin*

* [Source](https://www.asozykin.ru/courses/networks_online)
* [Source](https://www.youtube.com/watch?v=OLFA0soYGhw&list=PLtPJ9lKvJ4oiNMvYbOzCmWy6cRzYAh9B1)


## Acronyms

* ISO - International Organization for Standardization.
* OSI model - Open Systems Interconnection model.
* IEEE - Institute of Electrical and Electronics Engineers.
* IAB - Internet Architecture Board.
* IEFT - Internet Engineering Task Force.
* RFC - Request For Comments.
* W3C - World Wide Web Consortium.
* SSL - Secure Socket Layer.
* TLS - Transport Layer Security.
* LLC - Logical link control.
* MAC - Medium access control.
* CSMA/CD - Carrier Sense Multiple Access with Collision Detection.
* VLAN - Virtual Local Area Network.
* STP - Spanning Tree Protocol.
* RSTP - Rapid Spanning Tree Protocol.
* MSTP - Multiple Spanning Tree Protocol.
* MIMO - Multiple Input Multiple Output.
* CSMA/CA - Carrier Sense Multiple Access with Collision Avoidance.
* MACA - Multiple Access with Collision Avoidance.
* WAP - Wireless Access Point.
* BSSID - Basic Service Set Identifier.
* SSID - Service Set Identifier.
* WEP - Wired Equivalent Privacy.
* WPA - Wi-Fi Protected Access.
* WPA2 - Wi-Fi Protected Access 2.


## References

* [RFCs](https://tools.ietf.org/rfc/index)
* [W3C](https://www.w3.org/standards/)

* [Internet Protocol Suite](https://en.wikipedia.org/wiki/Internet_protocol_suite)
* [DNS](https://en.wikipedia.org/wiki/Domain_Name_System)
* [HTTP](https://ru.wikipedia.org/wiki/HTTP)
* DSL
* IP, ICMP, ARP, DHCP
* TCP, UDP
* HTTP, SMTP, DNS, FTP


## Классификация сетей

1. По типу коммутации
    * Коммутация каналов (телефонная сеть - устанавливается один канал).
    * *Коммутация пакетов (компьютерная сеть - пакеты идут разными каналами)*.

2. По типу технологии передачи данных
    * *Широковещательные (классический Etherner, Wi-Fi)*.
    * *Точка - точка (коммутируемый Ethernet)*.

3. По протяженности
    * Персональные (Bluetooth).
    * *Локальные (одно или несколько зданий, Ethernet и Wi-Fi)*.
    * Муниципальные (внутри города - городское кабельное телевидение).
    * Глобальные (страна, континент).
    * *Объединение сетей (Интернет, TCP/IP)*.


## Топология сетей

1. Полносвязная.
2. Ячеистая.
3. Звезда.
4. Кольцо.
5. Дерево.
6. Шина.


## Стандарты

* ISO разрабывает модель взаимодействия открытых систем (OSI model).
* IEEE (а именно его коммитет 802) разрабатывает стандарты на технологии передачи данных и в других областях электроники и электротехники.
* IAB (а именно его группа IETF) принимает стандарты на протоколы Интернет (документы RFC).
* W3C принимает стандарты в области WWW.


## Основы организации компьютерных сетей

Задача построения сети решается при помощи декомпозиции с использованием шаблона "Уровни".

Сервис описывает какие функции реализует уровень (например, поиск маршрута в сети).

Интерфейс - набор примитивных операций, которые нижний уровень предоставляет верхнему.

Протокол - правила и соглашения, используемые для связи уровня N одного компьютера с уровнем N другого компьютера.

Архитектура сети - набор уровней и протоколов сети. Интерфейсы не входят в архитектуру так, как могут быть реализованы по-разному в различных программно-аппаратных платформах.

Стек протоколов - иерархически организованный набор протоколов, достаточный для организации взаимодействия по сети.

Эталонные модели: ISO OSI model (7 уровней), TCP/IP model (4 уровня)


## Модель OSI

На практике не используется, служит в качестве "общего языка" для описания того, как должны строиться сети разных видов.

Не является архитектурой, так как не содержит протоколов. Протоколы отпределены в отдельных стандартах и не используются на практике.

N | OSI уровень (Ru) | OSI уровень (En) | Для сравнения TCP/IP уровень | TCP/IP технология / протокол
--|------------------|------------------|------------------------------|-----------------------------
1 | Физический       | Physical         |                              |
2 | Канальный        | Data Link        | Сетевых интерфейсов          | Ethernet, Wi-Fi, DSL
3 | Сетевой          | Network          | Интернет                     | IP, ICMP, ARP, DHCP
4 | Транспортный     | Transport        | Транспортный                 | TCP, UDP
5 | Сеансовый        | Session          | Прикладной                   | HTTP, SMTP, DNS, FTP
6 | Представления    | Presentation     |                              |
7 | Прикладной       | Application      |                              |


### Физический уровень

Предстваление битов информации в сигналы для передачи по среде (каналу связи).

Характеристики канала связи: пропускная способность (бит/с), задержка, количество ошибок.

Каналы бывают: симплексные (передача данных возможна в одну сторону), дуплексные (в обе стороны одновременно), полудуплексные (в обе стороны поочереди).

Сигналы бывают: цифровые (промоуголные импульсы) или аналоговые (синусоидальные волны).


### Канальный уровень

Определяет начало и конец сообщения (кадра) в потоке бит. Методы: указатель длины сообщения (количества байт), вставка байтов или битов (byte / bit stuffing) или средства физического уровня.

Обнаруживает и исправляет ошибки. Варианты: только обнаружение, исправление, повторная отправка.

Подуровни:
* Logical link control (LLC). Общий для разных технологий. Отвечает за передачу данных (создание кадров и исправление ошибок).
* Medium access control (MAC). В широковещательной сети (более современная технология) управляет порядком доступа к среде и обеспечиват физическую адресацию.

MAC-адреса необходимы для адресации на канальном уровне. Применяются в Ethernet и Wi-Fi.

Carrier Sense Multiple Access with Collision Detection (CSMA/CD) - множественный доступ с прослушиванием несущей частоты и обнаружением коллизий - метод управления доступом к среде, применяемый в классическом Ethernet.

Технологии канального уровня: Ethernet и Wi-Fi.


#### Ethernet

Ethernet бывает классический (разделяемая среда) и коммутируемый (точка - точка).

Классический Ethernet основывался на общей шине (коаксиальный кабель) или (позже) на концентраторах (hub, топология - общая шина).

Коммутируемый Ethernet основывается на соединении точка - точка с помощью коммутаторов (switch, полносвязная топология).

Virtual Local Area Network (VLAN) - технология разделения единой сети на несколько логических сетей, изолированных друг от друга. Реализуется на коммутаторах на канальном уровне.

Spanning Tree Protocol (STP) - протокол связующего дерева не допускает возникновения кольца в сети и следовательно исключает широковещательный шторм. Реализуется на коммутаторах на канальном уровне.

Rapid Spanning Tree Protocol (RSTP) и Multiple Spanning Tree Protocol (MSTP)  - улучшенные версии STP.


#### Wi-Fi

Режимы работы Wi-Fi:
* Инфраструктурный режим
* Одноранговый режим (ad-hoc)

Wi-Fi очень похож на Ethernet: для адресации используются такие же MAC-адреса и общий формат кадра уровня LLC.

**Стандарты Wi-Fi**

Название | Скорость       | Частота
---------|----------------|------------
802.11   | 1 и 2 Мб/с     | 2,4 ГГц
802.11a  | 54 Мб/с        | 5 ГГц
802.11b  | 11 Мб/с        | 2,4 ГГц
802.11g  | 54 Мб/с        | 2,4 ГГц
802.11n  | 150-600 Мб/с   | 2,4 и 5 ГГц
802.11ac | 1.69-6.77 Гб/с | 5 ГГц

В диапазоне Wi-Fi 2,4 ГГц расположено 14 каналов, поэтому в одном пространстве способно работать не более 14 Wi-Fi сетей одновременно, иначе они будут мешать друг другу.

Стандарты 802.11n и 802.11ac могут использовать несколько антенн для передачи и приема сигнала, за счет этого увеличивается скорость передачи. Используется метод кодирования Multiple Input Multiple Output (MIMO).

Carrier Sense Multiple Access with Collision Avoidance (CSMA/CA) - множественный доступ с прослушиванием несущей частоты и обнаружением коллизий - метод управления доступом к среде, применяемый в Wi-Fi.

Multiple Access with Collision Avoidance (MACA) - метод управления доступом к среде, решающий проблемы скрытой и засвеченной станции, также применяемый в Wi-Fi.

Базовая станция в радиосвязи вообще — системный комплекс приёмопередающей аппаратуры, осуществляющей централизованное обслуживание группы оконечных абонентских устройств.

Точка беспроводного доступа (Wireless Access Point, WAP) — это беспроводная базовая станция, предназначенная для обеспечения беспроводного доступа к уже существующей сети (беспроводной или проводной) или создания новой беспроводной сети.

Идентификаторы набора сервисов точки доступа:
* Идентификатор базового набора сервисов (Basic Service Set Identifier, BSSID) - это MAC-адрес точки доступа.
* Идентификатор в виде понятном для человека (Service Set Identifier, SSID) - это текстовая строка.

Типы шифрования данных Wi-Fi:
* Wired Equivalent Privacy (WEP).
* Wi-Fi Protected Access (WPA).
* Wi-Fi Protected Access 2 (WPA2).


### Сетевой уровень

Объединяет сети на основе разных технологий. Обеспечивает общую адресацию. Определяется маршрут пересылки пакетов - маршрутизация.

Сетевой уровень обеспечивает масштабируемость, которая невозможна на канальном уровне, за счет:
* Агрегация адресов - сетевой уровнь работает с блоками адресов - с сетями.
* Запрет пересылки "мусорных" пакетов - пакеты отбрасываются, если невозможно определить, куда его нужно отправить.
* Возможность наличия нескольких путей в сети - допускается несколько активных путей.

Задачи сетевого уровня:
* Объединение сетей (internetworking) - создание составной сети на основе нескольких сетей, построенных на нескольких технологиях канального уровня.
* Маршрутизация (routing) - поиск маршрута в сети, в которой может быть несколько маршрутов (могут быть кольца).
* Обеспечение качества обслуживания.

Маршрутизатор (router) - устройство для объединения сетей.

Продвижение (forwarding, термин аналогичный маршрутизации) - передача пакета внутри маршрутизатора в соответствии с правилами маршрутизации, при этом маршрутизатор учитывает топологию сети и загрузку каналов связи.

Протоколы сетевого уровня:
* Internet Protocol (IP).
* Internet Control Message Protocol (ICMP).
* Address Resolution Protocol (ARP).
* Dynamic Host Configuration Protocol (DHCP).

IP-адрес - глобальный адрес сетевого уровня, использующиеся для уникальной идентификации компьютеров в составной сети, такой как Интернет. Используются в стеке протоколов TCP/IP.

Формат адреса IPv4: 4 байта (32 бита), каждый записан в дисятичном виде (0-255) через точку.

Маска подсети в двоичной записи содержит единицы там, где в IP-адресе будет содержаться номер подсети, и содержит нули там, где будет содержаться номер хоста.

Например:
              | В десятичном виде | В двоичном виде
--------------|-------------------|---------------------------------------------------------
IP-адрес      | 213.180.193.3     | 11010101.10110100.11000001.00000011
Маска подсети | 255.255.255.0     | 11111111.11111111.11111111.00000000
Номер подсети | 213.180.193.0     | 11010101.10110100.11000001.00000000 (IP-адрес AND маска)
Номер хоста   | 3 или 0.0.0.3     | 

Маска подсети может быть записана также в виде префикса, в котором указано количество байт в IP-адресе, обозначающих номер подсети. Например: 213.180.193.3 /24

Маска не обязательно должна заканчиваться на границе октетов, такая маска называется маской переменной длины. Например, маска 213.180.193.3 /20:
              | В десятичном виде | В двоичном виде
--------------|-------------------|---------------------------------------------------------
IP-адрес      | 213.180.193.3     | 11010101.10110100.11000001.00000011
Маска подсети | 255.255.255.0     | 11111111.11111111.11110000.00000000
Номер подсети | 213.180.192.0     | 11010101.10110100.11000000.00000000 (IP-адрес AND маска)
Номер хоста   | 0.0.1.3           | 

Устаревшие классы IP-адресов:



### Транспортный уровень

Обеспечивает передачу данных между процессами на хостах. Является сквозным. Обеспечивает надежность (например, защита от ошибок и гарантия порядка сообщений).


### Сеансовый уровень

Устанавливает сеансы связи. Управляет очередностью ведения диалога. Предотвращение одновременных критических операций. Возобновление передачи в случае сбоя. *На практике сеансовый уровнь не используется.*


### Уровень представления

Представление данных в виде понятном как для отправителя, так и для получателя. Например, автоматический перевод или шифрование и дешифрование (SSL, TLS).


### Прикладной уровень

Набор приложений для пользователей сети (веб-страницы, электронная почта, видео и аудио связь).

